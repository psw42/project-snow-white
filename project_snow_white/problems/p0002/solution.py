INPUT = ')))(()(((()))()())()()))((((((()))))))(())((((()())(()())(())()()()()((()())()((((())()((()(((())(()()()((()(()())(())))((())()))())))))())((())(((()())(((()(())())())(())())()(())())(()((((()))())())((()())())(()(())()())())()())((()()(()())()(((((())(())))((())(())(())((()()(()(()((((())()(()(()()()()))()))((()))()()()())))()(())(()(((()()((()))((((((()()))))))(()))()))())))))()(()()(((()()))()(((()())))())())))(())(())()(())(())((())()))()()()((()((())(((()()((())(()((()(((())))()())))(()()()(((((())(()((()))()))(())()(()()()))())))(()())(()())((()(())))(()))()))()))())))((()(((())((()((()))((())())(((()(())))()((()))())(((())))(()))(()))((((()))()))())()()))())))()((((((((((())((()()(()()(((())())())())((()()()(()(())()()())))((())))(()))(((())((()((()())(()))(()(()(())(()()((()(()(())))(()((())))((())(()()))()(()((())()()))((()(()()()((()((())()()))(())(()())()()()))))(())))())()))(())(())))()(())(()())())))())()))))))()((()))))()(((()(((()((()()()()(()(())))))()((()))()))((()))()'


def count_invalid_parentheses(sequence: str) -> int:
    num_invalid = 0
    num_open = 0
    for c in sequence:
        if c == '(':
            num_open += 1
        elif num_open > 0:
            num_open -= 1
        else:
            num_invalid += 1
    if num_open > 0:
        num_invalid += num_open
    return num_invalid


if __name__ == '__main__':
    print(count_invalid_parentheses(INPUT))
